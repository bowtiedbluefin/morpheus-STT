# =============================================================================
# WhisperX Diarization Server Environment Configuration  
# =============================================================================
# Copy to .env and customize for your environment
# All values shown below are the optimized defaults - uncomment to override

# Required Authentication (MUST SET)
HUGGINGFACE_TOKEN=your_token_here

# ===== CLOUDFLARE R2 CONFIGURATION =====
# Required for R2 functionality - get these from Cloudflare dashboard
# R2_ENDPOINT=https://your_account_id.r2.cloudflarestorage.com
# R2_ACCESS_KEY_ID=your_r2_access_key
# R2_SECRET_ACCESS_KEY=your_r2_secret_key

# ===== AWS S3 CONFIGURATION =====
# Optional - ONLY needed for S3 result export functionality
# Pre-signed S3 URLs work WITHOUT these credentials (they're already signed)
# Uses default AWS credential chain (environment, profile, IAM role)
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_DEFAULT_REGION=us-east-1

# ===== STORAGE TESTING =====
# For testing pre-signed S3 URLs and result export
# TEST_S3_PRESIGNED_URL=https://bucket.s3.amazonaws.com/file?AWSAccessKeyId=...
# TEST_OUTPUT_BUCKET=your-test-results-bucket

# Core Diarization Parameters (defaults: uncomment to override)
# PYANNOTE_CLUSTERING_THRESHOLD=0.7
# PYANNOTE_SEGMENTATION_THRESHOLD=0.45
# SPEAKER_CONFIDENCE_THRESHOLD=0.6
# MIN_SPEAKER_DURATION=3.0

# Advanced Optimization Settings (defaults: uncomment to override)
# SPEAKER_SMOOTHING_ENABLED=true
# MIN_SWITCH_DURATION=2.0
# VAD_VALIDATION_ENABLED=false

# WhisperX Performance (defaults: uncomment to override)
# WHISPERX_BATCH_SIZE=8

# Server Configuration (defaults: uncomment to override)
# PORT=3333

# GPU Optimization (optional overrides)
# CUDA_VISIBLE_DEVICES=0
# PYTORCH_CUDA_ALLOC_CONF=max_split_size_mb:512

# Parameter Tuning Guidelines:
# ---------------------------
# Over-Detection (too many speakers):
#   PYANNOTE_CLUSTERING_THRESHOLD=0.8
#   SPEAKER_CONFIDENCE_THRESHOLD=0.8
#   MIN_SPEAKER_DURATION=5.0
#
# Under-Detection (too few speakers):  
#   PYANNOTE_CLUSTERING_THRESHOLD=0.5
#   SPEAKER_CONFIDENCE_THRESHOLD=0.4
#   VAD_VALIDATION_ENABLED=true
#
# Performance Optimization:
#   WHISPERX_BATCH_SIZE=4 (lower memory)
#   WHISPERX_BATCH_SIZE=16 (higher performance) 