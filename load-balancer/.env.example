# =============================================================================
# WhisperX Load Balancer Environment Configuration
# =============================================================================
# Copy to .env when running locally with Docker Compose
# For Akash deployments, configure these in deploy-akash.yaml instead

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
PORT=8080

# =============================================================================
# HEALTH CHECK & TIMEOUT CONFIGURATION
# =============================================================================
# How often to check backend instance health (seconds)
HEALTH_CHECK_INTERVAL=30

# Maximum time to wait for a transcription request (seconds)
# Set high for large audio files (1 hour default)
REQUEST_TIMEOUT=3600

# =============================================================================
# BACKEND WHISPER INSTANCE URLS
# =============================================================================
# Configure your Whisper GPU instance endpoints here
# 
# LOCAL TESTING:
# Use http://localhost:3333, http://localhost:3334, etc.
#
# AKASH PRODUCTION:
# Use custom domains with HTTPS (e.g., https://w1.yourdomain.com)
# OR use Akash provider URLs (e.g., https://abc123.provider.akash.network)
#
# You can configure up to 10 instances (INSTANCE_1_URL through INSTANCE_10_URL)
# Leave unused instances commented out or unset
#

# Example: Custom domains (recommended for production)
INSTANCE_1_URL=https://w1.yourdomain.com
INSTANCE_2_URL=https://w2.yourdomain.com
INSTANCE_3_URL=https://w3.yourdomain.com
# INSTANCE_4_URL=https://w4.yourdomain.com
# INSTANCE_5_URL=https://w5.yourdomain.com

# Example: Direct Akash provider URLs (for testing)
# INSTANCE_1_URL=https://abc123.provider.akash.network
# INSTANCE_2_URL=https://def456.provider.akash.network
# INSTANCE_3_URL=https://ghi789.provider.akash.network

# Example: Local development
# INSTANCE_1_URL=http://localhost:3333
# INSTANCE_2_URL=http://localhost:3334
# INSTANCE_3_URL=http://localhost:3335

# =============================================================================
# NOTES
# =============================================================================
# 
# 1. Protocol: Always include http:// or https:// prefix
#    ✅ GOOD: https://w1.yourdomain.com
#    ❌ BAD:  w1.yourdomain.com (will be auto-prefixed with http://)
#
# 2. No trailing slash: Remove trailing slashes from URLs
#    ✅ GOOD: https://w1.yourdomain.com
#    ❌ BAD:  https://w1.yourdomain.com/
#
# 3. Load balancing: The load balancer automatically routes requests to the
#    instance with the fewest active transcriptions
#
# 4. Health checks: Unhealthy instances are automatically excluded from rotation
#    after 3 consecutive failed health checks
#
# 5. Dynamic updates: On Akash, you can update instance URLs without redeploying
#    by updating the deployment with new environment variables
#
